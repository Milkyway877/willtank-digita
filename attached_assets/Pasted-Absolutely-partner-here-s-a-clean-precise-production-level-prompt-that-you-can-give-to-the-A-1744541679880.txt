Absolutely partner â€” here's a **clean, precise, production-level prompt** that you can give to the AI or dev team to make sure:

- âœ… **Dashboard notifications are triggered correctly**
- âœ… **Emails are sent on time in real-time without delays**
- âœ… **Nothing breaks in the process**
- âœ… **No duplicate messages or spammy behavior occurs**

---

## ğŸ“£ PROMPT: ENABLE DASHBOARD NOTIFICATIONS + REAL-TIME EMAIL TRIGGERS

---

### âœ… GOAL

Ensure **WillTank** sends **real-time email notifications** and **clean in-app dashboard alerts** for the most important user actions. No dummy placeholders. No skips. No duplicates. All notifications must be **clear, helpful, and personalized**.

---

## ğŸ”” DASHBOARD NOTIFICATIONS

### â¤ LOCATION:  
- Notifications should appear in the **top bar bell icon**, with an unread badge.  
- Should persist even after page reload (store in `notifications` table).

### â¤ REQUIRED STRUCTURE:
Each notification should include:
- `title`: Short notification (e.g., "Will Saved Successfully")
- `body`: Extra detail (e.g., "Your will for John Doe has been saved and is now viewable.")
- `timestamp`: Date/time of action
- `read`: true/false (user can mark as read)
- `link`: Optional redirect (e.g., link to open that will or page)

---

### ğŸ” TRIGGERED DASHBOARD NOTIFICATIONS (AND COPY):

| Action | Notification |
|-------|--------------|
| âœ… User completes onboarding | `Welcome to WillTank! Let's begin creating your first will.` |
| ğŸ“„ User saves a draft will | `Draft Saved â€“ Your progress has been saved successfully.` |
| ğŸ§  Will submitted & completed | `Will Submitted â€“ Your will has been finalized and stored.` |
| ğŸ§¾ New document uploaded | `Document Uploaded â€“ Your new document is now saved.` |
| ğŸ¥ Video recording saved | `Video Recorded â€“ Your video message has been saved.` |
| ğŸ‘¤ Beneficiary added | `Beneficiary Added â€“ [Name] has been added to your will.` |
| ğŸ’¬ Skyler provides fix suggestion | `Skyler Suggested a Fix â€“ Tap to review.` |
| ğŸ›¡ï¸ 2FA enabled | `Two-Factor Authentication is now active on your account.` |
| ğŸ’³ Plan purchased via Stripe | `Thank You â€“ Your [Plan] subscription is active.` |

---

## ğŸ“§ EMAIL TRIGGERS

### â¤ Email Settings:
- Use transactional email service (e.g., **Resend**, **SendGrid**, etc.)
- All email logic should go through verified Supabase **Edge Functions** to avoid abuse.
- Use dynamic templates (optional) and always include a fallback plain-text version.
- Do **not** send duplicates â€” each action should trigger only once per user.

---

### ğŸ“¬ EMAIL TRIGGER LIST

| Trigger | Subject | Description |
|--------|---------|-------------|
| âœ… Signup Verification | `Welcome to WillTank â€“ Verify Your Email` | Triggered immediately upon signup, includes magic link or code. |
| âœ… OTP/2FA Verification | `Your WillTank Login Code` | Triggered when user enables 2FA or logs in with OTP. |
| âœ… New Will Created | `Your Will Has Been Created` | Sent once a will is successfully completed and stored. |
| âœ… Beneficiary Invited | `You've Been Named in a Will` | Sent to the beneficiary email. Should include user name, role, and a secure link to review or accept. |
| âœ… Document Upload | `A New Document Has Been Uploaded` | Sent when a user uploads documents to their will. |
| âœ… Video Message Recorded | `Your Video Message Has Been Saved` | Confirmation of successful recording. |
| âœ… Plan Purchased | `Thank You for Subscribing to [Plan]` | After Stripe checkout success webhook. |
| âœ… Periodic Check-In (if enabled) | `WillTank Check-In â€“ Are You Okay?` | A scheduled check-in email if user is inactive (future feature). |
| âœ… 5-Way Death Confirmation Chain (if triggered) | `A Confirmation is Required` | Sent to 5 users for death confirmation. Must be secure and uniquely tokenized. |
| âœ… Support Contact Reply | `We've Received Your Message` | Confirmation when the user sends a support request. |
| âŒ Payment Failed (Stripe webhook) | `Action Required â€“ Your Payment Failed` | Retry or update billing. |

---

### ğŸ›‘ PREVENTION & VALIDATION

- Emails should NOT be sent multiple times for same action (use flags in DB or logs).
- Dashboard notifications should NOT pile up for repeated actions.
- Test all webhooks and Edge Functions **individually** before deploying to production.
- Ensure **unsubscribe footer** on non-critical (optional) emails where applicable.

---

### ğŸ§  AI Assistant Instructions

- Do NOT use hardcoded logic or dummy delays.
- Use **Supabase Edge Functions or Webhooks** for triggering emails.
- Save all dashboard notifications to `notifications` table:
  ```sql
  id | user_id | title | body | timestamp | read | link
  ```
- Respect **userâ€™s timezone** where needed for emails.
- Avoid sending emails for "draft saves" unless user manually opts in.
- Emails must be **instantly triggered**, not delayed or queued.

---

Once this is implemented, you'll have a **bulletproof alert + notification system** thatâ€™s fully reliable and matches a real-world SaaS standard. When you're ready to test emails or set up additional templates, I can help generate perfect examples too.

Ready for the next upgrade, partner?